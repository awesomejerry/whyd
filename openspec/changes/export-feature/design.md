## Context

WHYD 是一個純前端的成就記錄應用，使用 LocalStorage 作為資料儲存。目前用戶無法將資料匯出，需要新增匯出功能讓用戶可以備份或遷移資料。

## Goals / Non-Goals

**Goals:**
- 提供 JSON 和 CSV 兩種匯出格式
- 支援日期範圍過濾
- 使用純前端技術（Blob + URL.createObjectURL）實現檔案下載
- 提供清晰的成功/失敗提示

**Non-Goals:**
- 不支援其他格式（如 Excel、PDF）
- 不提供雲端備份或同步功能
- 不支援匯入功能（本次範圍外）

## Decisions

### 1. 使用 Blob API 實現下載
- **選擇**：使用 `Blob` + `URL.createObjectURL` + `<a download>`
- **原因**：純前端實現，無需後端支援，支援所有現代瀏覽器
- **替代方案**：使用 FileSaver.js 套件（增加依賴，不符合輕量化原則）

### 2. CSV 轉換實現
- **選擇**：自行實作 CSV 轉換邏輯
- **原因**：資料結構簡單，無需引入額外函式庫
- **實作**：將每個 entry 轉為一行，欄位包含 id、text、tags、createdAt

### 3. Modal UI 設計
- **選擇**：復用現有的 `.modal` CSS 類別
- **原因**：保持 UI 一致性，減少程式碼重複
- **實作**：在 `#export-modal` 中動態渲染表單內容

### 4. 日期範圍預設值
- **選擇**：預設為「全部資料」（不限制日期）
- **原因**：最常見的使用場景是完整備份
- **替代方案**：預設最近 30 天（增加了不必要的操作步驟）

## Risks / Trade-offs

| 風險 | 緩解措施 |
|------|----------|
| CSV 格式可能遇到特殊字元問題 | 實作 CSV escape 邏輯，處理逗號、引號、換行 |
| 大量資料可能導致下載延遲 | 顯示載入狀態，非同步處理 |
| 用戶可能忘記選擇格式 | 預設選擇 JSON 格式 |

## Migration Plan

無需遷移，此為新功能。
