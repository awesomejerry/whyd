## Context

WHYD 是一個使用原生 JavaScript 開發的單頁應用，目前僅支援繁體中文。專案採用模組化架構，各功能以獨立的 JS 檔案實現，使用 LocalStorage 作為資料持久層。現有的 Store 模組已支援 settings 物件儲存用戶偏好（如主題），可直接擴充以儲存語言偏好。

## Goals / Non-Goals

**Goals:**
- 建立輕量、高效能的 i18n 系統
- 支援繁體中文（zh-TW）和英文（en）兩種語言
- 語言切換即時生效，無需刷新頁面
- 語言偏好持久化到 LocalStorage
- 所有 UI 文字都使用 i18n 翻譯

**Non-Goals:**
- 不支援動態載入語言檔（語言數量少，直接內嵌）
- 不實作複數形式、性別變化等進階 i18n 功能
- 不翻譯用戶輸入的內容

## Decisions

### 1. i18n 模組設計
**決策**: 採用簡單的鍵值翻譯系統，使用 `i18n.t('key')` API

**理由**:
- 專案規模小，不需要複雜的 i18n 框架
- 內嵌翻譯檔案避免額外的 HTTP 請求
- `t()` 函數命名簡潔，符合業界慣例

**替代方案**: 使用 i18next 等現有框架
- 否決原因：增加依賴、學習成本，對於兩種語言的簡單需求過度設計

### 2. 語言切換 UI 位置
**決策**: 放在 Footer 的次要按鈕區域（與主題切換按鈕並列）

**理由**:
- Footer 已有主題切換按鈕，功能性質相似
- 不影響主要操作區域
- 保持 UI 簡潔

### 3. 語言檔案格式
**決策**: 使用 JSON 格式，採用命名空間式的鍵名（如 `app.title`, `tags.clearFilter`）

**理由**:
- JSON 格式易於維護和擴充
- 命名空間讓翻譯鍵更有組織性
- 避免鍵名衝突

### 4. 語言切換機制
**決策**: 使用 CustomEvent 通知所有模組重新渲染

**理由**:
- 專案已使用事件系統（entryAdded, tag-selected）
- 解耦各模組，i18n 模組不需要知道其他模組的存在
- 各模組自行決定如何更新文字

## Risks / Trade-offs

**[風險] 翻譯遺漏**: 某些文字可能未被翻譯
→ 緩解：i18n.t() 找不到翻譯時回傳 key 本身，方便識別問題

**[風險] 初始載入延遲**: 需要載入語言檔案
→ 緩解：語言檔案內嵌在 i18n.js，無額外請求

**[權衡] 語言檔案大小**: 內嵌所有語言會增加 JS 檔案大小
→ 接受：目前只有兩種語言，影響極小

## Migration Plan

1. 建立 i18n 模組和語言檔案
2. 更新 Store 支援語言偏好
3. 修改 App 初始化流程，先載入 i18n
4. 逐一更新各模組使用 i18n
5. 新增語言切換按鈕
6. 測試語言切換功能

**回滾**: 若發生問題，移除 i18n 相關程式碼，恢復硬編碼文字
