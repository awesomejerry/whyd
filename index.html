<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>WHYD - What Have You Done</title>
    <link rel="icon" href="favicon.svg" type="image/svg+xml">
    <link rel="manifest" href="manifest.json">
    <meta name="theme-color" content="#1a1a2e">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-title" content="WHYD">
    <link rel="apple-touch-icon" href="favicon.svg">
    <link rel="stylesheet" href="styles/main.css">
    <link rel="stylesheet" href="styles/onboarding.css">
</head>
<body>
    <header class="app-header">
        <h1>WHYD</h1>
        <p class="tagline">What Have You Done</p>
    </header>

    <main class="app-main">
        <!-- Section: Core Input -->
        <section id="input-section" class="section">
            <!-- core-input.js will populate this -->
        </section>

        <!-- Section: Timeline View -->
        <section id="timeline-section" class="section">
            <!-- timeline-view.js will populate this -->
        </section>

        <!-- Section: Tags Filter -->
        <section id="tags-section" class="section">
            <!-- tag-system.js will populate this -->
        </section>

        <!-- Section: Statistics -->
        <section id="stats-section" class="section hidden">
            <!-- statistics.js will populate this -->
        </section>

        <!-- Section: Daily Summary -->
        <section id="summary-section" class="section hidden">
            <!-- daily-summary.js will populate this -->
        </section>

        <!-- Section: Streak Tracker -->
        <section id="streak-section" class="section">
            <!-- streak-tracker.js will populate this -->
        </section>
    </main>

    <!-- Onboarding Overlay -->
    <div id="onboarding-overlay" class="overlay hidden">
        <!-- onboarding.js will populate this -->
    </div>

    <!-- Export Modal -->
    <div id="export-modal" class="modal hidden">
        <!-- export-feature.js will populate this -->
    </div>

    <footer class="app-footer">
        <button id="btn-export" class="btn-icon" title="åŒ¯å‡º">ðŸ“¤</button>
        <button id="btn-stats" class="btn-icon" title="çµ±è¨ˆ">ðŸ“Š</button>
        <button id="btn-summary" class="btn-icon" title="æ¯æ—¥å›žé¡§">ðŸŒ™</button>
    </footer>

    <!-- App State & Utilities (loaded first) -->
    <script src="js/store.js"></script>
    <script src="js/utils.js"></script>

    <!-- Feature Modules (loaded in order) -->
    <script src="js/core-input.js"></script>
    <script src="js/tag-system.js"></script>
    <script src="js/timeline-view.js"></script>
    <script src="js/edit-delete.js"></script>
    <script src="js/streak-tracker.js"></script>
    <script src="js/daily-summary.js"></script>
    <script src="js/statistics.js"></script>
    <script src="js/export-feature.js"></script>
    <script src="js/onboarding.js"></script>

    <!-- App Initialization -->
    <script src="js/app.js"></script>

    <!-- Service Worker Registration -->
    <script>
      if ('serviceWorker' in navigator) {
        window.addEventListener('load', () => {
          navigator.serviceWorker.register('service-worker.js')
            .then((registration) => {
              console.log('SW registered:', registration.scope);
            })
            .catch((error) => {
              console.log('SW registration failed:', error);
            });
        });
      }
    </script>
</body>
</html>
